<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>添加好友 - 烘匠 BakeManager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f5f5f5;
            color: #1a1a1a;
            -webkit-tap-highlight-color: transparent;
        }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="bg-[#f5f5f5] min-h-screen">

    <!-- Header -->
    <header class="sticky top-0 z-30 bg-white border-b border-gray-100">
        <div class="flex items-center justify-between px-4 h-12">
            <div class="flex items-center">
                <a href="javascript:history.back()" class="w-8 h-8 flex items-center justify-center text-gray-600 -ml-2">
                    <i class="fas fa-chevron-left text-lg"></i>
                </a>
                <h1 class="font-bold text-lg text-gray-800 ml-2">添加好友</h1>
            </div>
            <div class="w-8"></div>
        </div>
    </header>

    <main class="pb-safe">
        
        <!-- Search Bar -->
        <div class="p-4 bg-white mb-2">
            <div class="relative">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="text" id="search-input" placeholder="烘匠号/手机号" class="w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-orange-200">
            </div>
            <div id="my-id-info" class="mt-3 flex items-center justify-center text-xs text-gray-500">
                <span>我的烘匠号：</span>
                <span class="font-medium text-gray-800 ml-1">bakemaster2024</span>
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=bakemaster2024" class="w-4 h-4 ml-2 opacity-50">
            </div>
        </div>

        <!-- Options List -->
        <div id="default-options" class="bg-white divide-y divide-gray-50">
            
            <div onclick="window.location.href='shequ-scan.html'" class="flex items-center p-4 active:bg-gray-50 transition-colors cursor-pointer">
                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white mr-4">
                    <i class="fas fa-qrcode text-lg"></i>
                </div>
                <div class="flex-1">
                    <h3 class="font-medium text-gray-900 text-base">扫一扫</h3>
                    <p class="text-xs text-gray-400 mt-0.5">扫描二维码名片</p>
                </div>
                <i class="fas fa-chevron-right text-gray-300 text-xs"></i>
            </div>

        </div>

        <!-- Search Result Action (Hidden) -->
        <div id="search-action" class="hidden bg-white mt-2">
             <div onclick="window.location.href='shequ-search-result.html'" class="flex items-center p-4 active:bg-gray-50 transition-colors cursor-pointer border-b border-gray-50">
                <div class="w-12 h-12 rounded-lg bg-green-500 flex items-center justify-center text-white mr-4 shadow-sm">
                    <i class="fas fa-search text-xl"></i>
                </div>
                <div class="flex-1">
                    <h3 class="font-medium text-gray-900 text-base">搜索：<span id="search-keyword" class="text-green-600 font-bold"></span></h3>
                    <p class="text-xs text-gray-400 mt-0.5">查找手机号/烘匠号</p>
                </div>
                <i class="fas fa-chevron-right text-gray-300 text-xs"></i>
            </div>
        </div>

    </main>

    <script>
        // Search functionality
        const input = document.getElementById('search-input');
        const defaultOptions = document.getElementById('default-options');
        const searchAction = document.getElementById('search-action');
        const searchKeyword = document.getElementById('search-keyword');
        const myIdInfo = document.getElementById('my-id-info');

        input.addEventListener('input', function(e) {
            const val = this.value.trim();
            if (val) {
                defaultOptions.classList.add('hidden');
                myIdInfo.classList.add('hidden');
                searchAction.classList.remove('hidden');
                searchKeyword.textContent = val;
            } else {
                defaultOptions.classList.remove('hidden');
                myIdInfo.classList.remove('hidden');
                searchAction.classList.add('hidden');
            }
        });

        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                if (this.value.trim()) {
                    window.location.href = 'shequ-search-result.html';
                }
            }
        });
    </script>

</body>
</html>
