<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>新的朋友 - 烘匠 BakeManager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f5f5f5;
            color: #1a1a1a;
            -webkit-tap-highlight-color: transparent;
        }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="bg-[#f5f5f5] min-h-screen">

    <!-- Header -->
    <header class="sticky top-0 z-30 bg-white border-b border-gray-100">
        <div class="flex items-center justify-between px-4 h-12">
            <div class="flex items-center">
                <a href="javascript:history.back()" class="w-8 h-8 flex items-center justify-center text-gray-600 -ml-2">
                    <i class="fas fa-chevron-left text-lg"></i>
                </a>
                <h1 class="font-bold text-lg text-gray-800 ml-2">新的朋友</h1>
            </div>
            <button onclick="window.location.href='shequ-add-friend.html'" class="text-sm font-medium text-gray-600">添加好友</button>
        </div>
    </header>

    <main class="pb-safe">
        
        <!-- Search -->
        <div class="px-4 py-3 bg-white mb-2">
            <div class="relative">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="text" placeholder="搜索烘匠号/手机号" class="w-full pl-10 pr-4 py-2 bg-gray-100 rounded-lg text-sm focus:outline-none focus:ring-1 focus:ring-orange-200">
            </div>
        </div>

        <!-- Pending Requests -->
        <div class="bg-white mb-2">
            <div class="px-4 py-2 text-xs text-gray-500 font-medium bg-gray-50">近三天</div>
            
            <!-- Request 1 -->
            <div class="flex items-center p-4 border-b border-gray-50">
                <img src="https://randomuser.me/api/portraits/women/68.jpg" class="w-12 h-12 rounded-lg object-cover mr-3">
                <div class="flex-1 min-w-0 mr-2">
                    <h3 class="font-bold text-gray-900 text-sm">烘焙小能手</h3>
                    <p class="text-xs text-gray-500 truncate">我是群里的Alice，加个好友吧</p>
                </div>
                <button onclick="acceptFriend(this)" class="px-4 py-1.5 bg-orange-500 text-white text-xs font-bold rounded-full active:bg-orange-600 transition-colors">
                    接受
                </button>
            </div>

            <!-- Request 2 -->
            <div class="flex items-center p-4 border-b border-gray-50">
                <img src="https://randomuser.me/api/portraits/men/32.jpg" class="w-12 h-12 rounded-lg object-cover mr-3">
                <div class="flex-1 min-w-0 mr-2">
                    <h3 class="font-bold text-gray-900 text-sm">Jack</h3>
                    <p class="text-xs text-gray-500 truncate">请求添加你为好友</p>
                </div>
                <button onclick="acceptFriend(this)" class="px-4 py-1.5 bg-orange-500 text-white text-xs font-bold rounded-full active:bg-orange-600 transition-colors">
                    接受
                </button>
            </div>
        </div>

        <!-- Past Requests -->
        <div class="bg-white">
            <div class="px-4 py-2 text-xs text-gray-500 font-medium bg-gray-50">三天前</div>
            
            <!-- Request 3 (Accepted) -->
            <div class="flex items-center p-4 border-b border-gray-50">
                <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" class="w-12 h-12 rounded-lg object-cover mr-3">
                <div class="flex-1 min-w-0 mr-2">
                    <h3 class="font-bold text-gray-900 text-sm">面包仙人</h3>
                    <p class="text-xs text-gray-500 truncate">你好，我是面包仙人</p>
                </div>
                <span class="text-xs text-gray-400 font-medium px-3">已添加</span>
            </div>

             <!-- Request 4 (Expired) -->
             <div class="flex items-center p-4">
                <img src="https://randomuser.me/api/portraits/women/12.jpg" class="w-12 h-12 rounded-lg object-cover mr-3 grayscale opacity-70">
                <div class="flex-1 min-w-0 mr-2">
                    <h3 class="font-bold text-gray-900 text-sm text-gray-500">Lisa</h3>
                    <p class="text-xs text-gray-400 truncate">请求添加你为好友</p>
                </div>
                <span class="text-xs text-gray-400 font-medium px-3">已过期</span>
            </div>
        </div>

    </main>

    <script>
        function acceptFriend(btn) {
            // Simulate API call
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            btn.classList.add('opacity-70');
            
            setTimeout(() => {
                const container = btn.parentElement;
                // Create "Added" text element
                const span = document.createElement('span');
                span.className = 'text-xs text-gray-400 font-medium px-3';
                span.innerText = '已添加';
                
                // Replace button
                btn.replaceWith(span);
            }, 800);
        }
    </script>
</body>
</html>
