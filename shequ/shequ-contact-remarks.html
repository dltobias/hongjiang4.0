<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>设置备注和标签 - 烘匠 BakeManager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f5f5f5;
            color: #1a1a1a;
            -webkit-tap-highlight-color: transparent;
        }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="bg-[#f5f5f5] min-h-screen flex flex-col">

    <!-- Header -->
    <header class="sticky top-0 z-30 bg-white border-b border-gray-100">
        <div class="flex items-center justify-between px-4 h-12">
            <div class="flex items-center">
                <a href="javascript:history.back()" class="w-8 h-8 flex items-center justify-center text-gray-600 -ml-2">
                    <i class="fas fa-chevron-left text-lg"></i>
                </a>
                <h1 class="font-bold text-lg text-gray-800 ml-2">设置备注和标签</h1>
            </div>
            <button onclick="saveRemarks()" class="px-3 py-1 bg-green-500 text-white text-sm font-bold rounded-md active:bg-green-600 transition-colors">
                完成
            </button>
        </div>
    </header>

    <main class="flex-1 pb-safe py-4 space-y-4">
        
        <!-- Alias -->
        <div class="bg-white px-4 py-3">
            <label class="block text-sm font-bold text-gray-900 mb-2">备注名</label>
            <input type="text" id="alias-input" placeholder="添加备注名" value="面包仙人" class="w-full text-base border-none focus:outline-none placeholder-gray-400">
        </div>

        <!-- Tags -->
        <div class="bg-white px-4 py-3" onclick="focusTagInput()">
            <label class="block text-sm font-bold text-gray-900 mb-2">标签</label>
            <div class="flex flex-wrap gap-2 mb-2" id="tag-container">
                <div class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm flex items-center">
                    <span>烘焙同行</span>
                    <button onclick="removeTag(this)" class="ml-2 text-gray-400 hover:text-gray-600"><i class="fas fa-times-circle"></i></button>
                </div>
                <div class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm flex items-center">
                    <span>北京</span>
                    <button onclick="removeTag(this)" class="ml-2 text-gray-400 hover:text-gray-600"><i class="fas fa-times-circle"></i></button>
                </div>
            </div>
            <input type="text" id="tag-input" placeholder="添加标签" class="w-full text-base border-none focus:outline-none placeholder-gray-400">
        </div>

        <!-- Description -->
        <div class="bg-white px-4 py-3">
            <label class="block text-sm font-bold text-gray-900 mb-2">描述</label>
            <textarea placeholder="添加更多备注信息" class="w-full h-24 text-base border-none focus:outline-none resize-none placeholder-gray-400"></textarea>
            <div class="flex justify-between items-center mt-2 border-t border-gray-50 pt-2">
                <span class="text-xs text-gray-400">添加图片</span>
                <button class="w-8 h-8 flex items-center justify-center bg-gray-50 rounded-lg text-gray-400">
                    <i class="fas fa-image"></i>
                </button>
            </div>
        </div>

        <!-- Phone -->
        <div class="bg-white px-4 py-3">
            <label class="block text-sm font-bold text-gray-900 mb-2">电话号码</label>
            <div id="phone-list" class="space-y-2">
                <input type="tel" placeholder="添加电话号码" class="w-full text-base border-none focus:outline-none placeholder-gray-400">
            </div>
            <button onclick="addPhoneField()" class="mt-2 text-blue-500 text-sm font-medium">
                <i class="fas fa-plus mr-1"></i> 添加电话号码
            </button>
        </div>

    </main>

    <script>
        // Tag Logic
        const tagInput = document.getElementById('tag-input');
        const tagContainer = document.getElementById('tag-container');

        tagInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                addTag(this.value);
                this.value = '';
            }
        });

        function addTag(text) {
            if (!text.trim()) return;
            const div = document.createElement('div');
            div.className = 'bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm flex items-center animate-fade-in';
            div.innerHTML = `
                <span>${text}</span>
                <button onclick="removeTag(this)" class="ml-2 text-gray-400 hover:text-gray-600"><i class="fas fa-times-circle"></i></button>
            `;
            tagContainer.appendChild(div);
        }

        function removeTag(btn) {
            btn.parentElement.remove();
        }

        function focusTagInput() {
            tagInput.focus();
        }

        // Phone Logic
        function addPhoneField() {
            const div = document.createElement('div');
            div.innerHTML = `<input type="tel" placeholder="添加电话号码" class="w-full text-base border-none focus:outline-none placeholder-gray-400 border-t border-gray-50 pt-2">`;
            document.getElementById('phone-list').appendChild(div);
            div.querySelector('input').focus();
        }

        // Save Logic
        function saveRemarks() {
            const btn = document.querySelector('header button');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            setTimeout(() => {
                window.history.back();
            }, 500);
        }

        // Animation
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes fadeIn {
                from { opacity: 0; transform: scale(0.9); }
                to { opacity: 1; transform: scale(1); }
            }
            .animate-fade-in {
                animation: fadeIn 0.2s ease-out;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
